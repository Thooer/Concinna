# Element 模块

## 1. 模块定位

* **职责**：提供基础语言元素，包括类型概念、类型特性、基础类型别名、可选类型、范围视图和数组类型，为引擎提供统一的类型系统基础。
* **边界**：不提供复杂的数据结构或算法，仅专注于基础语言构建块；不依赖外部库，仅使用C++标准库。
* **外部依赖**：C++标准库。

## 2. 设计

* **统一性**：为引擎提供统一的类型命名和概念体系
* **可扩展性**：设计开放的概念体系，支持后续扩展
* **高性能**：所有组件设计优先考虑性能，避免不必要的运行时开销
* **类型安全**：通过强类型设计和概念约束确保类型安全

## 3. API

### 3.1 核心概念

| 概念 | 描述 |
|------|------|
| `Integral` | 整数类型概念 |
| `FloatingPoint` | 浮点类型概念 |
| `Arithmetic` | 算术类型概念 |
| `Range` | 范围类型概念，要求begin()/end() |
| `SizedRange` | 带size()的范围类型 |
| `MonadicType` | 具备Has()查询能力的类型 |
| `ResultLike` | 结果类型概念，具备IsOk()、Value()、Error() |

### 3.2 类型别名

| 类型别名 | 对应标准类型 |
|----------|--------------|
| `UInt8`, `UInt16`, `UInt32`, `UInt64` | 无符号整数类型 |
| `Int8`, `Int16`, `Int32`, `Int64` | 有符号整数类型 |
| `Half` | 16位浮点类型 |
| `Float32`, `Float64` | 32位和64位浮点类型 |
| `Byte` | 字节类型 |
| `USize`, `SSize` | 大小类型 |
| `IntPtr`, `UIntPtr` | 指针类型 |

### 3.3 核心类型

* **`Optional<T>`**：轻量级可选值类型，支持Has()、Value()等操作
* **`Span<T>`**：连续内存的非拥有视图，支持范围访问
* **`Array<T, N>`**：固定大小数组，支持范围访问和迭代

### 3.4 类型特性

| 特性 | 描述 |
|------|------|
| `RemoveCvRef<T>` | 移除const、volatile和引用修饰符 |
| `Decay<T>` | 类型衰减转换 |
| `InvokeResult<F, Args...>` | 调用结果类型 |
| `IsInstanceOf<T, U>` | 检查类型是否为模板实例 |